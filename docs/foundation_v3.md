# Funila â€” DocumentaÃ§Ã£o Fundacional v3.0

**Marcelo Rodrigues | RDP Studio | 2026**
**funila.com.br | rdpstudio.com.br**

---

## 1. O Problema que Resolvo
O Funila afunila o caos do trÃ¡fego pago em leads qualificados. Este documento Ã© meu mapa de construÃ§Ã£o e apresentaÃ§Ã£o do produto.

### 1.1 O Ciclo do DesperdÃ­cio
Toda empresa que investe em trÃ¡fego pago vive a mesma frustraÃ§Ã£o. O dinheiro sai, os leads entram, mas ninguÃ©m sabe o que acontece no meio. O processo padrÃ£o hoje Ã© assim:

1.  A empresa investe em Meta Ads ou Google Ads.
2.  O cliente clica e Ã© mandado direto para o WhatsApp ou site.
3.  O vendedor recebe: nome + telefone. Sem contexto nenhum.
4.  ComeÃ§a a investigaÃ§Ã£o manual do zero a cada lead.
5.  Tempo desperdiÃ§ado. Lead frio tratado igual ao quente.

**O resultado prÃ¡tico:**
*   NÃ£o sei qual campanha gerou o cliente que fechou â€” sÃ³ vejo o que gastei
*   NÃ£o sei onde o lead desistiu â€” se foi no anÃºncio, na pÃ¡gina ou na conversa
*   Base desorganizada, remarketing genÃ©rico, ROI invisÃ­vel
*   O vendedor faz o trabalho de SDR manualmente toda vez

### 1.2 O Gargalo Real â€” O WhatsApp como Buraco Negro
A maioria dos corretores e empresas usam o WhatsApp como destino dos anÃºncios. O problema Ã© que quando o lead chega no WhatsApp, os dados se perdem. NÃ£o hÃ¡ como saber:
*   De qual campanha ou anÃºncio esse contato veio
*   Quantas pessoas clicaram mas nÃ£o mandaram mensagem
*   Qual o perfil financeiro do lead antes de ele abrir a boca
*   Se esse lead tem potencial real de fechamento

O Funila resolve esse buraco negro colocando uma camada de inteligÃªncia ANTES do lead chegar no WhatsApp â€” e entregando ao vendedor um contato jÃ¡ qualificado, com contexto completo.

### 1.3 Os TrÃªs Mercados com Essa Dor

| Mercado | Dor especÃ­fica | O que o Funila entrega |
| :--- | :--- | :--- |
| **Corretor de ImÃ³veis** | Investe em trÃ¡fego mas nÃ£o sabe qual campanha gera lead que financia. Perde tempo com lead frio no WhatsApp. | Lead chega no WhatsApp jÃ¡ com nome, CLT, renda e Score Serasa. Vendedor sÃ³ fecha. |
| **Empresa Comercial / AgÃªncia** | Clientes da agÃªncia nÃ£o conseguem provar ROI. Leads entram sem inteligÃªncia. | Dashboard de ROI + funil com abandono + CPL real por campanha. |
| **Igreja / Pastoral** | Dados de membros ficam perdidos. NinguÃ©m sabe quem some. | CentralizaÃ§Ã£o pastoral + alerta de desistentes + histÃ³rico individual. |

---

## 2. A SoluÃ§Ã£o Completa â€” As 4 Camadas do Funila
O Funila nÃ£o Ã© um formulÃ¡rio. Ã‰ um funil de inteligÃªncia com quatro camadas que trabalham juntas para rastrear, qualificar e afunilar cada lead antes de chegar no vendedor.

### 2.1 VisÃ£o do Funil Completo

```
[ ANÃšNCIO META / GOOGLE ADS ]
         â†“  cliente coloca link do Funila no anÃºncio
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  CAMADA 1 â€” LINK TRACKER
  funila.com.br/t/abc123
  â†’ registra: clique, dispositivo, horÃ¡rio, localizaÃ§Ã£o, UTM
         â†“  redirect instantÃ¢neo (< 300ms)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  CAMADA 2 â€” SQUEEZE PAGE (Landing Page de QualificaÃ§Ã£o)
  Etapa 1: Nome + Telefone
  Etapa 2: Tem CLT? HÃ¡ quanto tempo?
  Etapa 3: Renda + jÃ¡ tentou financiar?
  (CPF opcional â€” libera consulta Serasa no plano Pro)
         â†“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  CAMADA 3 â€” QUALIFICAÃ‡ÃƒO AUTOMÃTICA
  â†’ Score interno calculado (CLT + renda + histÃ³rico)
  â†’ Consulta Serasa Score via API (plano Pro)
  â†’ Status: ğŸ”¥ Quente | ğŸŸ¡ Morno | â„ï¸ Frio
         â†“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  CAMADA 4 â€” ENTREGA INTELIGENTE NO WHATSAPP
  BotÃ£o abre wa.me com mensagem prÃ©-preenchida:
  'OlÃ¡ JoÃ£o! Sou Ana, CLT hÃ¡ 4 anos, renda R$4.200,
   Serasa 720. Vi seu anÃºncio do apto no Setor Oeste.'
         â†“
[ VENDEDOR RECEBE LEAD QUALIFICADO â€” SÃ“ FECHA ]
```

### 2.2 Camada 1 â€” Link Tracker (Rastreamento de Clique)
O corretor usa hoje um link qualquer no anÃºncio â€” site, WhatsApp, Linktree, o que for. O Funila nÃ£o muda esse destino. SÃ³ adiciona uma camada antes.

**Como funciona na prÃ¡tica:**
1.  No painel do Funila, o cliente cria um link de rastreamento e informa o destino (a Squeeze Page do Funila ou qualquer URL).
2.  O sistema gera: `funila.com.br/t/xk7p2`
3.  O cliente troca o link do anÃºncio por esse. SÃ³ isso.
4.  Cada clique registra: timestamp, dispositivo (mobile/desktop), sistema operacional, cidade estimada via IP, UTM da campanha.

O cliente nÃ£o precisa saber o que Ã© UTM nem pixel. Ele sÃ³ troca o link. O Funila rastreia tudo silenciosamente.

**O que o painel mostra com os dados do tracker:**
*   Total de cliques por campanha e por perÃ­odo
*   Taxa de clique â†’ formulÃ¡rio (quantos clicaram e quantos foram alÃ©m)
*   DistribuiÃ§Ã£o por dispositivo â€” mobile vs desktop
*   HorÃ¡rios de pico de clique â€” quando o pÃºblico estÃ¡ ativo

### 2.3 Camada 2 â€” Squeeze Page (A Landing Page de QualificaÃ§Ã£o)
A Squeeze Page Ã© a landing page intermediÃ¡ria entre o clique e o WhatsApp. Ã‰ aqui que o Funila faz o trabalho de SDR de forma automatizada.

**Por que isso funciona:**
Quando o lead precisa preencher 3 etapas simples antes de falar com o corretor, dois efeitos acontecem: (1) leads sem interesse real desistem â€” filtragem natural; (2) os que continuam chegam no WhatsApp jÃ¡ motivados e com contexto. A taxa de conversÃ£o no WhatsApp sobe porque o vendedor nÃ£o perde tempo qualificando.

**TÃ©cnica usada: Progressive Profiling (Coleta Progressiva)**
Cada etapa pede sÃ³ o necessÃ¡rio. Nunca mostro todos os campos de uma vez â€” isso derruba a conversÃ£o. A lÃ³gica Ã©: quanto mais o lead investe tempo, mais ele se compromete psicologicamente.

| Etapa | Campos | Barreira | Objetivo |
| :--- | :--- | :--- | :--- |
| **1 â€” Entrada** | Nome + Telefone | MÃ­nima â€” todo mundo preenche | Capturar contato. JÃ¡ salvo no banco mesmo se abandonar aqui. |
| **2 â€” QualificaÃ§Ã£o Profissional** | CLT? HÃ¡ quanto tempo? | Baixa â€” 2 cliques | Dado mais valioso para corretor. Define 45pts do score. |
| **3 â€” QualificaÃ§Ã£o Financeira** | Renda estimada + jÃ¡ tentou financiar? | MÃ©dia â€” 2 seleÃ§Ãµes | Completa o perfil de crÃ©dito. Libera Score Serasa se CPF fornecido. |

### 2.4 Camada 3 â€” QualificaÃ§Ã£o AutomÃ¡tica e Score Serasa

**Score Interno (gratuito â€” todos os planos)**
| CritÃ©rio | Pontos | LÃ³gica |
| :--- | :--- | :--- |
| CLT hÃ¡ 3+ anos | +30 | Maior chance de aprovaÃ§Ã£o FGTS/CAIXA |
| Renda acima de R$ 3.000 | +25 | CompatÃ­vel com Minha Casa Minha Vida |
| Nunca tentou financiar | +20 | Perfil limpo, sem restriÃ§Ã£o prÃ©via |
| Emprego 2+ anos | +15 | Estabilidade comprovada |
| Telefone informado | +10 | Canal ativo |

**Score Serasa via API (plano Profissional e AgÃªncia)**
O Serasa Score Ã© a pontuaÃ§Ã£o oficial de crÃ©dito do Brasil â€” vai de 0 a 1.000. Com o CPF do lead, o Funila consulta a API da Serasa (via SOAWebServices ou Serasa Developer) e adiciona esse dado ao perfil.

| Score Serasa | InterpretaÃ§Ã£o | AÃ§Ã£o sugerida |
| :--- | :--- | :--- |
| **700 â€“ 1.000** | Excelente â€” aprovaÃ§Ã£o quase certa | Contato imediato. Alta prioridade. |
| **500 â€“ 699** | Bom â€” aprovaÃ§Ã£o provÃ¡vel | Contato em atÃ© 2 horas. |
| **300 â€“ 499** | Regular â€” risco moderado | Qualificar mais antes de avanÃ§ar. |
| **0 â€“ 299** | Baixo â€” alto risco de reprovaÃ§Ã£o | Base de remarketing. NÃ£o priorizar. |

**Custo da consulta Serasa:**
*   Via SOAWebServices (intermediÃ¡rio): ~R$ 0,40 a R$ 0,80 por consulta
*   Via Serasa Developer Portal (direto): preÃ§o por volume, exige contrato
*   EstratÃ©gia: cobrar CPF apenas na etapa 3, consultar sÃ³ para leads que completaram o formulÃ¡rio. Reduz custo e aumenta relevÃ¢ncia.

### 2.5 Camada 4 â€” Entrega Inteligente no WhatsApp
Depois de calcular o score, a tela de confirmaÃ§Ã£o do formulÃ¡rio mostra um botÃ£o de WhatsApp. Mas nÃ£o Ã© um botÃ£o genÃ©rico â€” a mensagem jÃ¡ vem prÃ©-preenchida com os dados do lead.

**Exemplo de mensagem gerada automaticamente:**
> OlÃ¡! Me chamo JoÃ£o Silva. Vi seu anÃºncio sobre o apartamento no Setor Oeste. Tenho CLT hÃ¡ 5 anos, renda de aproximadamente R$ 4.500 e nunca fiz financiamento. Gostaria de mais informaÃ§Ãµes.

O corretor recebe isso no WhatsApp. Ele jÃ¡ sabe o nome, o perfil financeiro e o interesse. ComeÃ§a a conversa no ponto certo, sem perguntar o que jÃ¡ estÃ¡ respondido.

Isso Ã© exatamente o que um SDR faz manualmente. O Funila faz o mesmo â€” sem salÃ¡rio, sem domingo de folga, sem reclamaÃ§Ã£o.

---

## 3. Arquitetura do Sistema
### 3.1 VisÃ£o Geral â€” Stack TÃ©cnica

| Camada | Tecnologia | Onde roda | FunÃ§Ã£o |
| :--- | :--- | :--- | :--- |
| **Link Tracker** | Python FastAPI â€” rota GET /t/{slug} | Render Starter | Registra clique e redireciona < 300ms |
| **Squeeze Page** | HTML + JS puro (PWA) | GitHub Pages | FormulÃ¡rio progressivo, lÃª UTM, envia para API |
| **Painel Admin** | HTML + JS + Chart.js | GitHub Pages | Dashboard do cliente: leads, mÃ©tricas, exportaÃ§Ã£o |
| **API Backend** | Python + FastAPI | Render Starter (~R$42/mÃªs) | Score, Serasa, CRUD de dados, mÃ©tricas |
| **Banco de Dados** | PostgreSQL | Supabase (grÃ¡tis atÃ© 500MB) | Leads, cliques, campanhas, eventos |
| **AutenticaÃ§Ã£o** | JWT via Supabase Auth | Supabase | Login do cliente, isolamento por tenant |
| **Serasa Score** | SOAWebServices API | Externo (pago por consulta) | Score de crÃ©dito via CPF â€” plano Pro |

### 3.2 Novas Tabelas do Banco â€” VersÃ£o Completa

**links â€” Tabela de rastreamento de cliques**
*   `id` UUID PK
*   `client_id` UUID FK
*   `slug` TEXT UNIQUE
*   `name` TEXT
*   `destination` TEXT
*   `utm_source` TEXT
*   `utm_campaign` TEXT
*   `created_at` TIMESTAMP

**clicks â€” Registro de cada clique**
*   `id` UUID PK
*   `link_id` UUID FK
*   `ip_hash` TEXT (LGPD)
*   `device_type` TEXT
*   `os` TEXT
*   `referrer` TEXT
*   `created_at` TIMESTAMP

**leads â€” Enriquecida com Serasa**
*   `id` UUID PK
*   `link_id` UUID FK
*   `name` TEXT
*   `phone` TEXT
*   `cpf` TEXT ENCRYPTED (LGPD)
*   `has_clt` BOOLEAN
*   `clt_years` INTEGER
*   `income` DECIMAL
*   `tried_financing` BOOLEAN
*   `internal_score` INTEGER
*   `serasa_score` INTEGER
*   `status` TEXT (hot / warm / cold / converted)
*   `created_at` TIMESTAMP

### 3.3 Rota do Link Tracker â€” CÃ³digo

```python
@app.get('/t/{slug}')
async def track_and_redirect(slug: str, request: Request):
    link = await db.get_link(slug)
    if not link:
        raise HTTPException(404)
    # Registra o clique anonimizado
    await db.save_click({
        'link_id': link['id'],
        'ip_hash': hashlib.sha256(request.client.host.encode()).hexdigest(),
        'device_type': parse_device(request.headers.get('user-agent')),
        'referrer': request.headers.get('referer', ''),
    })
    # Redirect instantÃ¢neo para destino
    return RedirectResponse(url=link['destination'], status_code=302)
```

---

## 4. Funis Completos por Vertical
### 4.1 Funil Corretor de ImÃ³veis â€” Fluxo Completo

```
[ ANÃšNCIO INSTAGRAM / GOOGLE ]
  â†“  link: funila.com.br/t/joao-setor-oeste
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  CLIQUE REGISTRADO
  dispositivo | horÃ¡rio | UTM
  â†“  redirect para Squeeze Page
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ETAPA 1: Nome + Telefone
  â†“
  ETAPA 2: CLT? HÃ¡ quanto tempo?
  â†“
  ETAPA 3: Renda + tentou financiar? + CPF (opcional)
  â†“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  SCORE CALCULADO
  Interno (0-100) + Serasa (0-1000) se CPF fornecido
  â†’ ğŸ”¥ Quente: alerta no WhatsApp do corretor
  â†’ ğŸŸ¡ Morno: entra em fila de nutriÃ§Ã£o
  â†’ â„ï¸ Frio: base de remarketing
  â†“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  BOTÃƒO WHATSAPP COM MENSAGEM PRÃ‰-PREENCHIDA
  Lead clica â†’ abre zap com contexto completo
  â†“
[ CORRETOR RECEBE LEAD QUALIFICADO â€” SÃ“ FECHA ]
```

### 4.2 Funil Igreja / Pastoral
*   **Entrada:** QR Code no culto ou link no slide.
*   **Etapas:** Nome/Contato -> Membro/MinistÃ©rio -> Interesse/Pedido de OraÃ§Ã£o.
*   **Painel:** Quem entrou este mÃªs, quem sumiu (30+ dias), alertas de desistÃªncia.

### 4.3 Funil AgÃªncia / Empresa Comercial
*   **Entrada:** TrÃ¡fego pago do cliente da agÃªncia (Funila Link Tracker).
*   **Painel:** Multi-cliente, performance por cliente, CPL real, relatÃ³rios exportÃ¡veis com logo do cliente.

---

## 5. Infraestrutura e Custos Reais
*   **Render Starter:** US$7/mÃªs (~R$42) para backend Python/FastAPI (sem sleep).
*   **Supabase:** GrÃ¡tis atÃ© 500MB (PostgreSQL + Auth).
*   **GitHub Pages:** GrÃ¡tis (Frontend Squeeze Page + Admin).
*   **Serasa API:** ~R$0,50/consulta (pago por uso).
*   **BrasilAPI:** GrÃ¡tis (validaÃ§Ã£o CPF/CEP).
*   **Resend:** GrÃ¡tis atÃ© 3k emails/mÃªs.

**Custo fixo infra:** ~R$ 46/mÃªs.
**Margem:** Com 1 cliente no plano Starter (R$147/mÃªs), a infraestrutura jÃ¡ estÃ¡ paga.

---

## 6. PrecificaÃ§Ã£o e VisÃ£o de Mercado
### 6.1 ConcorrÃªncia
*   **Agendor:** R$65/usuÃ¡rio (sem tracker, sem score).
*   **Ploomes:** R$225/mÃªs (sem tracker, sem Serasa).
*   **Pipedrive:** US$14/usuÃ¡rio (em dÃ³lar, sem adaptaÃ§Ã£o BR).
*   **Facilita CRM:** R$149 + setup (focado em imobiliÃ¡rias grandes).
*   **RD Station CRM:** R$50-3000 (complexo, sem Serasa).

**Gap do Funila:** Rastreamento desde o anÃºncio + Squeeze Page + Score Serasa + Entrega no WhatsApp. AcessÃ­vel para corretor solo.

### 6.2 Planos do Funila

| Plano | PÃºblico | Setup | Mensal | Serasa |
| :--- | :--- | :--- | :--- | :--- |
| **Solo** | Corretor individual | R$ 500 | R$ 147 | NÃ£o incluso |
| **Profissional** | Pequena empresa | R$ 800 | R$ 247 | 100 consultas/mÃªs |
| **AgÃªncia** | Multi-cliente | R$ 1.500 | R$ 497 | 500 consultas/mÃªs |

---

## 7. Mapa do Sistema â€” Telas e Funcionalidades
### 7.1 Interfaces
*   **Link Tracker:** `funila.com.br/t/[slug]` (InvisÃ­vel, redirect).
*   **Squeeze Page:** `app.funila.com.br/form/[slug]` (Lead preenche).
*   **Painel Admin:** `app.funila.com.br/admin` (Cliente gerencia).

### 7.2 Squeeze Page â€” Tela a Tela
1.  **Entrada:** Nome + Telefone (ObrigatÃ³rio).
2.  **QualificaÃ§Ã£o Profissional:** CLT? Tempo de casa?
3.  **QualificaÃ§Ã£o Financeira:** Renda? Tentou financiar? CPF (Opcional).
4.  **ConfirmaÃ§Ã£o:** BotÃ£o WhatsApp com mensagem prÃ©-preenchida.

### 7.3 Painel Admin â€” Tela a Tela
*   **Dashboard:** MÃ©tricas (cliques, leads, quentes), grÃ¡ficos.
*   **Leads:** Tabela com status, score, origem. Exportar CSV.
*   **Links:** Gerenciador de links de rastreamento (criar, copiar).
*   **Detalhe do Lead:** Linha do tempo, dados completos.

### 7.4 Fluxo de Teste (ValidaÃ§Ã£o)
1.  Criar link no admin.
2.  Clicar no link (celular).
3.  Preencher formulÃ¡rio (dados teste).
4.  Clicar no WhatsApp (verificar mensagem).
5.  Painel Admin: verificar lead, score, origem.

---

## 8. LGPD â€” Conformidade ObrigatÃ³ria
### 8.1 O que fazer
*   CPF criptografado no banco (AES-256).
*   Consentimento explÃ­cito (checkbox).
*   PolÃ­tica de Privacidade clara.
*   BotÃ£o de exclusÃ£o de lead.
*   IP armazenado como hash (SHA-256).

### 8.2 O que NÃƒO fazer
*   Vender/compartilhar dados.
*   Consultar Serasa sem CPF fornecido.
*   Armazenar Score Serasa desnecessariamente.

---

## 9. Roteiro de Desenvolvimento
**Dia 1 â€” Setup:** GitHub, Supabase, Render, estrutura de pastas.
**Dia 2 â€” Backend:** Link Tracker + API Base (FastAPI).
**Dia 3 â€” Squeeze Page:** Frontend HTML/JS, formulÃ¡rio progressivo.
**Dia 4 â€” Painel Admin:** Dashboard, tabela de leads, auth.
**Dia 5 â€” Deploy:** Render, GitHub Pages, testes finais.

---

## 10. Ecossistema RDP Studio
**Produtos:**
1.  **Funila (SaaS):** R$147-497/mÃªs.
2.  **Landing Page (Projeto):** R$800-2.500 (pontual).
3.  **Site Institucional (Projeto):** R$1.500-5.000 (pontual).

**EstratÃ©gia:** AgÃªncia parceira vende consultoria -> detecta falta de CRM/Site -> repassa para RDP Studio.

---

## 11. LGPD â€” Conformidade ObrigatÃ³ria (Detalhes)
*   **Controlador:** Cliente (corretor/empresa).
*   **Operador:** RDP Studio (Funila).
*   **Checklist:** Consentimento, Criptografia, PolÃ­tica de Privacidade, ExclusÃ£o.

---

## 12. Identidade Visual â€” Funila Design System
**Cores:**
*   **Azul PrimÃ¡rio:** `#2563EB` (Primary 500).
*   **Dark Theme:** `#0F1115` (Bg Primary), `#161A22` (Bg Secondary).
*   **Status:** ğŸ”¥ `#22C55E`, ğŸŸ¡ `#F59E0B`, â„ï¸ `#38BDF8`.

**Tipografia:**
*   **Display:** Syne.
*   **Body:** DM Sans.
*   **Mono:** DM Mono.

**Regras:**
*   Azul Ã© a Ãºnica cor dominante.
*   Status sÃ£o funcionais (nunca decorativos).
*   Dark mode Ã© o padrÃ£o.

---

## 13. Estrutura Oficial do Sistema â€” Layout Base
**Layout:** Sidebar fixa (esquerda), Header fixo (topo), ConteÃºdo central.
**Sidebar:** Logo, Cliente, Menu (Dashboard, Leads, Links, etc.), Footer (Plano, Sair).
**Header:** Breadcrumb, Busca, Filtro PerÃ­odo, Toggle Theme, Avatar.
